<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `ScanDir` struct in crate `scan_dir`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, ScanDir">

    <title>scan_dir::ScanDir - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>scan_dir</a></p><script>window.sidebarCurrent = {name: 'ScanDir', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>scan_dir</a>::<wbr><a class='struct' href=''>ScanDir</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-155' class='srclink' href='../src/scan_dir/src/lib.rs.html#146-152' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct ScanDir {
    // some fields omitted
}</pre><div class='docblock'><p>Settings for directory walker</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><code>impl <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h3><div class='impl-items'><h4 id='method.all' class='method'><code>fn <a href='#method.all' class='fnname'>all</a>() -&gt; <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h4>
<div class='docblock'><p>Constructs a settings that iterates over all entries</p>

<p>Just a starting point if you need complete control</p>
</div><h4 id='method.files' class='method'><code>fn <a href='#method.files' class='fnname'>files</a>() -&gt; <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h4>
<div class='docblock'><p>Constructs a settings which only iterates over files (non-directories).</p>

<p>The hidden and backup files are ignored by default</p>
</div><h4 id='method.dirs' class='method'><code>fn <a href='#method.dirs' class='fnname'>dirs</a>() -&gt; <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h4>
<div class='docblock'><p>Constructs a settings which only iterates over directories</p>

<p>The directories which match hidden and backup patterns are excluded</p>
</div><h4 id='method.skip_hidden' class='method'><code>fn <a href='#method.skip_hidden' class='fnname'>skip_hidden</a>(&amp;mut self, flag: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; &amp;mut <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h4>
<div class='docblock'><p>Skip hidden files</p>

<p>Hidden files are the ones having the name starting with dot <code>.</code>
(on all platforms)</p>
</div><h4 id='method.skip_dirs' class='method'><code>fn <a href='#method.skip_dirs' class='fnname'>skip_dirs</a>(&amp;mut self, flag: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; &amp;mut <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h4>
<div class='docblock'><p>Skip directory entries</p>
</div><h4 id='method.skip_files' class='method'><code>fn <a href='#method.skip_files' class='fnname'>skip_files</a>(&amp;mut self, flag: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; &amp;mut <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h4>
<div class='docblock'><p>Skip file (non-directory) entries</p>
</div><h4 id='method.skip_symlinks' class='method'><code>fn <a href='#method.skip_symlinks' class='fnname'>skip_symlinks</a>(&amp;mut self, flag: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; &amp;mut <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h4>
<div class='docblock'><p>Skip symlinks</p>

<p>By default symlinks are resolve if either skip_dirs or skip_files
are enabled. So symlink is treated just like entry it points to.
This method allows to avoid stat call and skip symlinks at all.</p>

<p>If neither <code>skip_files</code> nor <code>skip_dirs</code> is enabled the symlink is
never resolved and is returned just like any other directory entry.</p>
</div><h4 id='method.skip_backup' class='method'><code>fn <a href='#method.skip_backup' class='fnname'>skip_backup</a>(&amp;mut self, flag: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; &amp;mut <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h4>
<div class='docblock'><p>Skip backup files</p>

<p>This is expected to skip entries that different editors and version
control systems keep as backup files. We currently do not have precise
control over this thing, so you may consider turn this off and filter
entries yourself, if precise control is required.</p>

<p>You may also just filter files by extension instead of using this.</p>

<p>This is mostly useful if hidden files are also skipped.</p>

<p>Currently we ignore the following patterns:</p>

<ul>
<li><code>*.bak</code></li>
<li><code>*~</code> -- vim/emacs/other backup files</li>
<li><code>#*#</code> -- emacs auto save</li>
</ul>
</div><h4 id='method.read' class='method'><code>fn <a href='#method.read' class='fnname'>read</a>&lt;P: <a class='trait' href='https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html' title='core::convert::AsRef'>AsRef</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/std/path/struct.Path.html' title='std::path::Path'>Path</a>&gt;, R: <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html' title='core::marker::Sized'>Sized</a>, F&gt;(&amp;self, path: P, f: F) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;R, <a class='enum' href='../scan_dir/enum.Error.html' title='scan_dir::Error'>Error</a>&gt; <span class='where'>where F: <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.FnOnce.html' title='core::ops::FnOnce'>FnOnce</a>(<a class='struct' href='../scan_dir/struct.Iter.html' title='scan_dir::Iter'>Iter</a>) -&gt; R</span></code></h4>
<div class='docblock'><p>Calls a closure with an iterator over pairs of (entry, name)</p>

<p>Note when it comes to error reporting, here is how errors are
prioritized:</p>

<ol>
<li>If there is scan_dir error it has priority over result/error of
the closure</li>
<li>The <code>Io</code> error have more priority over <code>Decode</code> error</li>
<li>Otherwise first received error is returned if there are multiple</li>
</ol>

<h1 id='example' class='section-header'><a href='#example'>Example</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>scan_dir</span>::<span class='ident'>ScanDir</span>;

<span class='ident'>ScanDir</span>::<span class='ident'>files</span>().<span class='ident'>read</span>(<span class='string'>&quot;.&quot;</span>, <span class='op'>|</span><span class='ident'>iter</span><span class='op'>|</span> {
    <span class='kw'>for</span> (<span class='ident'>entry</span>, <span class='ident'>name</span>) <span class='kw'>in</span> <span class='ident'>iter</span> {
        <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;File {:?} has full path {:?}&quot;</span>,
            <span class='ident'>name</span>, <span class='ident'>entry</span>.<span class='ident'>path</span>());
    }
}).<span class='ident'>unwrap</span>()</pre>
</div><h4 id='method.walk' class='method'><code>fn <a href='#method.walk' class='fnname'>walk</a>&lt;P: <a class='trait' href='https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html' title='core::convert::AsRef'>AsRef</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/std/path/struct.Path.html' title='std::path::Path'>Path</a>&gt;, R: <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html' title='core::marker::Sized'>Sized</a>, F&gt;(&amp;self, path: P, f: F) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/result/enum.Result.html' title='core::result::Result'>Result</a>&lt;R, <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='enum' href='../scan_dir/enum.Error.html' title='scan_dir::Error'>Error</a>&gt;&gt; <span class='where'>where F: <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.FnOnce.html' title='core::ops::FnOnce'>FnOnce</a>(<a class='struct' href='../scan_dir/struct.Walker.html' title='scan_dir::Walker'>Walker</a>) -&gt; R</span></code></h4>
<div class='docblock'><p>Calls a closure with recursive walker over the directory</p>

<p>The recursive walker continues to work even if error occured and
returns a list of the errors in the case at least one error takes
place. You may put some mutable variable on the stack and
put the result of the closure there, in case you need to tolerate
errors.</p>

<h1 id='example-1' class='section-header'><a href='#example-1'>Example</a></h1>
<p>This is an example walker which tolerates errors</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>scan_dir</span>::<span class='ident'>ScanDir</span>;

<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>all_files</span> <span class='op'>=</span> <span class='ident'>Vec</span>::<span class='ident'>new</span>();
<span class='kw'>let</span> <span class='ident'>walk_result</span> <span class='op'>=</span> <span class='ident'>ScanDir</span>::<span class='ident'>files</span>().<span class='ident'>walk</span>(<span class='string'>&quot;.&quot;</span>, <span class='op'>|</span><span class='ident'>iter</span><span class='op'>|</span> {
    <span class='kw'>for</span> (<span class='ident'>entry</span>, <span class='ident'>name</span>) <span class='kw'>in</span> <span class='ident'>iter</span> {
        <span class='ident'>all_files</span>.<span class='ident'>push</span>(<span class='ident'>entry</span>.<span class='ident'>path</span>());
    }
});
<span class='kw'>if</span> <span class='kw'>let</span> <span class='prelude-val'>Err</span>(<span class='ident'>errors</span>) <span class='op'>=</span> <span class='ident'>walk_result</span> {
    <span class='kw'>for</span> <span class='ident'>e</span> <span class='kw'>in</span> <span class='ident'>errors</span> {
        <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;Error {}. Continue scanning...&quot;</span>, <span class='ident'>e</span>);
    }
}</pre>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 id='derived_implementations'>Derived Implementations </h3><h3 class='impl'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a> for <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h3><div class='impl-items'><h4 id='method.clone' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone' class='fnname'>clone</a>(&amp;self) -&gt; <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h4>
<h4 id='method.clone_from' class='method'><span class="since">1.0.0</span><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: &amp;Self)</code></h4>
</div><h3 class='impl'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> for <a class='struct' href='../scan_dir/struct.ScanDir.html' title='scan_dir::ScanDir'>ScanDir</a></code></h3><div class='impl-items'><h4 id='method.fmt' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#method.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class='struct' href='https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html' title='core::fmt::Formatter'>Formatter</a>) -&gt; <a class='type' href='https://doc.rust-lang.org/nightly/core/fmt/type.Result.html' title='core::fmt::Result'>Result</a></code></h4>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "scan_dir";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>